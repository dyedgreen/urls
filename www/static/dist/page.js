var c,E,X,K,H={},q=[],wt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function S(t,e){for(var n in e)t[n]=e[n];return t}function Z(t){var e=t.parentNode;e&&e.removeChild(t)}function s(t,e,n){var r,_,o,a=arguments,f={};for(o in e)o=="key"?r=e[o]:o=="ref"?_=e[o]:f[o]=e[o];if(arguments.length>3)for(n=[n],o=3;o<arguments.length;o++)n.push(a[o]);if(n!=null&&(f.children=n),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)f[o]===void 0&&(f[o]=t.defaultProps[o]);return B(t,f,r,_,null)}function B(t,e,n,r,_){var o={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:_==null?++c.__v:_};return c.vnode!=null&&c.vnode(o),o}function N(t){return t.children}function C(t,e){this.props=t,this.context=e}function I(t,e){if(e==null)return t.__?I(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?I(t):null}function tt(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return tt(t)}}function et(t){(!t.__d&&(t.__d=!0)&&E.push(t)&&!M.__r++||K!==c.debounceRendering)&&((K=c.debounceRendering)||X)(M)}function M(){for(var t;M.__r=E.length;)t=E.sort(function(e,n){return e.__v.__b-n.__v.__b}),E=[],t.some(function(e){var n,r,_,o,a,f;e.__d&&(a=(o=(n=e).__v).__e,(f=n.__P)&&(r=[],(_=S({},o)).__v=o.__v+1,O(f,o,_,n.__n,f.ownerSVGElement!==void 0,o.__h!=null?[a]:null,r,a==null?I(o):a,o.__h),nt(r,o),o.__e!=a&&tt(o)))})}function st(t,e,n,r,_,o,a,f,d,p){var i,v,u,l,m,h,g,y=r&&r.__k||q,k=y.length;for(n.__k=[],i=0;i<e.length;i++)if((l=n.__k[i]=(l=e[i])==null||typeof l=="boolean"?null:typeof l=="string"||typeof l=="number"||typeof l=="bigint"?B(null,l,null,null,l):Array.isArray(l)?B(N,{children:l},null,null,null):l.__b>0?B(l.type,l.props,l.key,null,l.__v):l)!=null){if(l.__=n,l.__b=n.__b+1,(u=y[i])===null||u&&l.key==u.key&&l.type===u.type)y[i]=void 0;else for(v=0;v<k;v++){if((u=y[v])&&l.key==u.key&&l.type===u.type){y[v]=void 0;break}u=null}O(t,l,u=u||H,_,o,a,f,d,p),m=l.__e,(v=l.ref)&&u.ref!=v&&(g||(g=[]),u.ref&&g.push(u.ref,null,l),g.push(v,l.__c||m,l)),m!=null?(h==null&&(h=m),typeof l.type=="function"&&l.__k!=null&&l.__k===u.__k?l.__d=d=ot(l,d,t):d=rt(t,l,u,y,m,d),p||n.type!=="option"?typeof n.type=="function"&&(n.__d=d):t.value=""):d&&u.__e==d&&d.parentNode!=t&&(d=I(u))}for(n.__e=h,i=k;i--;)y[i]!=null&&(typeof n.type=="function"&&y[i].__e!=null&&y[i].__e==n.__d&&(n.__d=I(r,i+1)),_t(y[i],y[i]));if(g)for(i=0;i<g.length;i++)it(g[i],g[++i],g[++i])}function ot(t,e,n){var r,_;for(r=0;r<t.__k.length;r++)(_=t.__k[r])&&(_.__=t,e=typeof _.type=="function"?ot(_,e,n):rt(n,_,_,t.__k,_.__e,e));return e}function rt(t,e,n,r,_,o){var a,f,d;if(e.__d!==void 0)a=e.__d,e.__d=void 0;else if(n==null||_!=o||_.parentNode==null)t:if(o==null||o.parentNode!==t)t.appendChild(_),a=null;else{for(f=o,d=0;(f=f.nextSibling)&&d<r.length;d+=2)if(f==_)break t;t.insertBefore(_,o),a=o}return a!==void 0?a:_.nextSibling}function xt(t,e,n,r,_){var o;for(o in n)o==="children"||o==="key"||o in e||D(t,o,null,n[o],r);for(o in e)_&&typeof e[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||n[o]===e[o]||D(t,o,e[o],n[o],r)}function lt(t,e,n){e[0]==="-"?t.setProperty(e,n):t[e]=n==null?"":typeof n!="number"||wt.test(e)?n:n+"px"}function D(t,e,n,r,_){var o;t:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||lt(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||lt(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")o=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=n,n?r||t.addEventListener(e,o?ct:at,o):t.removeEventListener(e,o?ct:at,o);else if(e!=="dangerouslySetInnerHTML"){if(_)e=e.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n==null?"":n;break t}catch(a){}typeof n=="function"||(n!=null&&(n!==!1||e[0]==="a"&&e[1]==="r")?t.setAttribute(e,n):t.removeAttribute(e))}}function at(t){this.l[t.type+!1](c.event?c.event(t):t)}function ct(t){this.l[t.type+!0](c.event?c.event(t):t)}function O(t,e,n,r,_,o,a,f,d){var p,i,v,u,l,m,h,g,y,k,P,x=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(d=n.__h,f=e.__e=n.__e,e.__h=null,o=[f]),(p=c.__b)&&p(e);try{t:if(typeof x=="function"){if(g=e.props,y=(p=x.contextType)&&r[p.__c],k=p?y?y.props.value:p.__:r,n.__c?h=(i=e.__c=n.__c).__=i.__E:("prototype"in x&&x.prototype.render?e.__c=i=new x(g,k):(e.__c=i=new C(g,k),i.constructor=x,i.render=Ct),y&&y.sub(i),i.props=g,i.state||(i.state={}),i.context=k,i.__n=r,v=i.__d=!0,i.__h=[]),i.__s==null&&(i.__s=i.state),x.getDerivedStateFromProps!=null&&(i.__s==i.state&&(i.__s=S({},i.__s)),S(i.__s,x.getDerivedStateFromProps(g,i.__s))),u=i.props,l=i.state,v)x.getDerivedStateFromProps==null&&i.componentWillMount!=null&&i.componentWillMount(),i.componentDidMount!=null&&i.__h.push(i.componentDidMount);else{if(x.getDerivedStateFromProps==null&&g!==u&&i.componentWillReceiveProps!=null&&i.componentWillReceiveProps(g,k),!i.__e&&i.shouldComponentUpdate!=null&&i.shouldComponentUpdate(g,i.__s,k)===!1||e.__v===n.__v){i.props=g,i.state=i.__s,e.__v!==n.__v&&(i.__d=!1),i.__v=e,e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(U){U&&(U.__=e)}),i.__h.length&&a.push(i);break t}i.componentWillUpdate!=null&&i.componentWillUpdate(g,i.__s,k),i.componentDidUpdate!=null&&i.__h.push(function(){i.componentDidUpdate(u,l,m)})}i.context=k,i.props=g,i.state=i.__s,(p=c.__r)&&p(e),i.__d=!1,i.__v=e,i.__P=t,p=i.render(i.props,i.state,i.context),i.state=i.__s,i.getChildContext!=null&&(r=S(S({},r),i.getChildContext())),v||i.getSnapshotBeforeUpdate==null||(m=i.getSnapshotBeforeUpdate(u,l)),P=p!=null&&p.type===N&&p.key==null?p.props.children:p,st(t,Array.isArray(P)?P:[P],e,n,r,_,o,a,f,d),i.base=e.__e,e.__h=null,i.__h.length&&a.push(i),h&&(i.__E=i.__=null),i.__e=!1}else o==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=St(n.__e,e,n,r,_,o,a,d);(p=c.diffed)&&p(e)}catch(U){e.__v=null,(d||o!=null)&&(e.__e=f,e.__h=!!d,o[o.indexOf(f)]=null),c.__e(U,e,n)}}function nt(t,e){c.__c&&c.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(r){r.call(n)})}catch(r){c.__e(r,n.__v)}})}function St(t,e,n,r,_,o,a,f){var d,p,i,v,u=n.props,l=e.props,m=e.type,h=0;if(m==="svg"&&(_=!0),o!=null){for(;h<o.length;h++)if((d=o[h])&&(d===t||(m?d.localName==m:d.nodeType==3))){t=d,o[h]=null;break}}if(t==null){if(m===null)return document.createTextNode(l);t=_?document.createElementNS("http://www.w3.org/2000/svg",m):document.createElement(m,l.is&&l),o=null,f=!1}if(m===null)u===l||f&&t.data===l||(t.data=l);else{if(o=o&&q.slice.call(t.childNodes),p=(u=n.props||H).dangerouslySetInnerHTML,i=l.dangerouslySetInnerHTML,!f){if(o!=null)for(u={},v=0;v<t.attributes.length;v++)u[t.attributes[v].name]=t.attributes[v].value;(i||p)&&(i&&(p&&i.__html==p.__html||i.__html===t.innerHTML)||(t.innerHTML=i&&i.__html||""))}if(xt(t,l,u,_,f),i)e.__k=[];else if(h=e.props.children,st(t,Array.isArray(h)?h:[h],e,n,r,_&&m!=="foreignObject",o,a,t.firstChild,f),o!=null)for(h=o.length;h--;)o[h]!=null&&Z(o[h]);f||("value"in l&&(h=l.value)!==void 0&&(h!==t.value||m==="progress"&&!h)&&D(t,"value",h,u.value,!1),"checked"in l&&(h=l.checked)!==void 0&&h!==t.checked&&D(t,"checked",h,u.checked,!1))}return t}function it(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){c.__e(r,n)}}function _t(t,e,n){var r,_,o;if(c.unmount&&c.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||it(r,null,e)),n||typeof t.type=="function"||(n=(_=t.__e)!=null),t.__e=t.__d=void 0,(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(a){c.__e(a,e)}r.base=r.__P=null}if(r=t.__k)for(o=0;o<r.length;o++)r[o]&&_t(r[o],e,n);_!=null&&Z(_)}function Ct(t,e,n){return this.constructor(t,n)}function $(t,e,n){var r,_,o;c.__&&c.__(t,e),_=(r=typeof n=="function")?null:n&&n.__k||e.__k,o=[],O(e,t=(!r&&n||e).__k=s(N,null,[t]),_||H,H,e.ownerSVGElement!==void 0,!r&&n?[n]:_?null:e.firstChild?q.slice.call(e.childNodes):null,o,!r&&n?n:_?_.__e:e.firstChild,r),nt(o,t)}c={__e:function(t,e){for(var n,r,_;e=e.__;)if((n=e.__c)&&!n.__)try{if((r=n.constructor)&&r.getDerivedStateFromError!=null&&(n.setState(r.getDerivedStateFromError(t)),_=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(t),_=n.__d),_)return n.__E=n}catch(o){t=o}throw t},__v:0},C.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=S({},this.state),typeof t=="function"&&(t=t(S({},n),this.props)),t&&S(n,t),t!=null&&this.__v&&(e&&this.__h.push(e),et(this))},C.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),et(this))},C.prototype.render=N,E=[],X=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,M.__r=0;var ut,w,ft,V=0,W=[],pt=c.__b,dt=c.__r,ht=c.diffed,mt=c.__c,gt=c.unmount;function jt(t,e){c.__h&&c.__h(w,t,V||e),V=0;var n=w.__H||(w.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function b(t){return V=1,Et(vt,t)}function Et(t,e,n){var r=jt(ut++,2);return r.t=t,r.__c||(r.__=[n?n(e):vt(void 0,e),function(_){var o=r.t(r.__[0],_);r.__[0]!==o&&(r.__=[o,r.__[1]],r.__c.setState({}))}],r.__c=w),r.__}function Nt(){W.forEach(function(t){if(t.__P)try{t.__H.__h.forEach(L),t.__H.__h.forEach(z),t.__H.__h=[]}catch(e){t.__H.__h=[],c.__e(e,t.__v)}}),W=[]}c.__b=function(t){w=null,pt&&pt(t)},c.__r=function(t){dt&&dt(t),ut=0;var e=(w=t.__c).__H;e&&(e.__h.forEach(L),e.__h.forEach(z),e.__h=[])},c.diffed=function(t){ht&&ht(t);var e=t.__c;e&&e.__H&&e.__H.__h.length&&(W.push(e)!==1&&ft===c.requestAnimationFrame||((ft=c.requestAnimationFrame)||function(n){var r,_=function(){clearTimeout(o),yt&&cancelAnimationFrame(r),setTimeout(n)},o=setTimeout(_,100);yt&&(r=requestAnimationFrame(_))})(Nt)),w=void 0},c.__c=function(t,e){e.some(function(n){try{n.__h.forEach(L),n.__h=n.__h.filter(function(r){return!r.__||z(r)})}catch(r){e.some(function(_){_.__h&&(_.__h=[])}),e=[],c.__e(r,n.__v)}}),mt&&mt(t,e)},c.unmount=function(t){gt&&gt(t);var e=t.__c;if(e&&e.__H)try{e.__H.__.forEach(L)}catch(n){c.__e(n,e.__v)}};var yt=typeof requestAnimationFrame=="function";function L(t){var e=w;typeof t.__c=="function"&&t.__c(),w=e}function z(t){var e=w;t.__c=t.__(),w=e}function vt(t,e){return typeof e=="function"?e(t):e}async function It(t,e){let n=window.__xsrf_token;return await(await fetch("/graphql",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","X-XSRF-Token":n},body:JSON.stringify({query:t,variables:e})})).json()}function T([t]){return t}function A(t,{onCommit:e,onError:n}){let[r,_]=b(!1),[o,a]=b(void 0);if(o!==void 0)throw o;return{commit:d=>{_(!0),It(t,d).then(({data:p,errors:i})=>{_(!1),i!=null?typeof n=="function"?n(i):a(i):e(p)}).catch(p=>a(p))},inFlight:r}}function G({size:t="small",style:e=""}){return s("svg",{xmlns:"http://www.w3.org/2000/svg",class:`${t==="large"?"h-8 w-8":"h-4 w-4"} ${e!=null?e:""}`,viewBox:"0 0 24 24",stroke:"none",fill:"currentColor"},s("rect",{x:"10",y:"0",width:"4",height:"8",rx:"2",opacity:"0"},s("animate",{attributeName:"opacity",from:"1",to:"0",dur:"1s",begin:"0s",repeatCount:"indefinite"})),s("rect",{x:"-2",y:"-4",width:"4",height:"8",rx:"2",transform:"translate(17.5, 6.5) rotate(45)",opacity:"0"},s("animate",{attributeName:"opacity",from:"1",to:"0",dur:"1s",begin:"0.125s",repeatCount:"indefinite"})),s("rect",{x:"16",y:"10",width:"8",height:"4",rx:"2",opacity:"0"},s("animate",{attributeName:"opacity",from:"1",to:"0",dur:"1s",begin:"0.25s",repeatCount:"indefinite"})),s("rect",{x:"-2",y:"-4",width:"4",height:"8",rx:"2",transform:"translate(17.5, 17.5) rotate(-45)",opacity:"0"},s("animate",{attributeName:"opacity",from:"1",to:"0",dur:"1s",begin:"0.375s",repeatCount:"indefinite"})),s("rect",{x:"10",y:"16",width:"4",height:"8",rx:"2",opacity:"0"},s("animate",{attributeName:"opacity",from:"1",to:"0",dur:"1s",begin:"0.5s",repeatCount:"indefinite"})),s("rect",{x:"-2",y:"-4",width:"4",height:"8",rx:"2",transform:"translate(6.5, 17.5) rotate(45)",opacity:"0"},s("animate",{attributeName:"opacity",from:"1",to:"0",dur:"1s",begin:"0.625s",repeatCount:"indefinite"})),s("rect",{x:"0",y:"10",width:"8",height:"4",rx:"2",opacity:"0"},s("animate",{attributeName:"opacity",from:"1",to:"0",dur:"1s",begin:"0.75s",repeatCount:"indefinite"})),s("rect",{x:"-2",y:"-4",width:"4",height:"8",rx:"2",transform:"translate(6.5, 6.5) rotate(-45)",opacity:"0"},s("animate",{attributeName:"opacity",from:"1",to:"0",dur:"1s",begin:"0.875s",repeatCount:"indefinite"})))}function j({title:t,onClick:e,disabled:n=!1,loading:r=!1,type:_="default",style:o}){let a=`h-8 px-2 flex space-x-2 justify-center items-center rounded-md font-bold ${o!=null?o:""}`;switch(_){case"flat":a+=" bg-white text-black",n||(a+=" hover:bg-gray-200");break;case"default":default:a+=" bg-blue-500 text-white",n||(a+=" hover:bg-blue-400")}return n===!0&&(a+=" opacity-80 cursor-not-allowed"),s("button",{class:a,onClick:n===!0?void 0:e},s("div",null,t),r===!0&&s(G,null))}function Tt(){window.location.href=window.location.href}function At(t){let e={};for(let n of Object.getOwnPropertyNames(t))e[n]=t[n];return JSON.stringify(e)}function Pt({error:t}){return s("div",{class:"w-full flex justify-center p-8"},s("div",{class:"w-full max-w-3xl bg-red-500 rounded-lg p-4"},s("h1",{class:"text-white text-xl font-semibold"},"Error"),s("p",{class:"text-red-100"},"Sorry, something went wrong."),s("pre",{class:"text-white bg-red-900 rounded-lg p-4 mt-2 whitespace-pre-wrap break-all"},At(t)),s(j,{title:"Reload Page",onClick:Tt,type:"flat",style:"w-full mt-2"})))}var Y=class extends C{constructor(){super();this.state={error:!1}}componentDidCatch(e){console.error(e),this.setState({error:e})}render({children:e},{error:n}){return n!==!1?s(Pt,{error:n}):e}},bt=Y;function F({title:t,href:e,disabled:n=!1,style:r}){let _=`
    block h-8 px-2
    flex space-x-2 justify-center items-center
    rounded-md font-semibold ${r!=null?r:""}
    text-blue-500 dark:text-blue-300
    hover:bg-gray-200 dark:hover:bg-gray-600
  `;return n===!0&&(_+=" opacity-80 cursor-not-allowed"),s("a",{class:_,href:e},t)}function J({value:t,onChange:e,label:n,placeholder:r,style:_}){let[o]=b(`input-id-${Math.floor(Math.random()*1e4)}`);return s("div",{class:`w-full ${_!=null?_:""}`},s("label",{class:"text-gray-500 italic",for:o},n),s("input",{class:"w-full p-2 text-md rounded-md bg-gray-200 dark:bg-gray-600 text-black dark:text-white",id:o,type:"text",value:t,onInput:a=>typeof e=="function"&&e(a.target.value),placeholder:r}))}var Ut=s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})),kt=s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"}));function R({type:t="info",message:e,style:n}){let r=`flex align-start p-3 rounded-md block font-semibold ${n!=null?n:""}`,_;switch(t){case"error":r+=" bg-red-200 text-red-800 dark:bg-red-800 dark:text-red-200",_=kt;break;case"warning":r+=" bg-yellow-200 text-yellow-800 dark:bg-yellow-800 dark:text-yellow-200",_=kt;break;case"info":default:r+=" bg-blue-200 text-blue-800 dark:bg-blue-800 dark:text-blue-200",_=Ut}return s("div",{class:r},s("div",{class:"mr-2"},_),s("p",{class:"leading-snug"},e))}function Q(){let[t,e]=b(""),[n,r]=b(null),[_,o]=b(null),{commit:a,inFlight:f}=A(T`
    mutation SubmitUrl($url: String!) {
      submitUrl(input: { url: $url }) {
        id
        title
      }
    }
  `,{onCommit:({submitUrl:{id:p,title:i}})=>{e(""),o(null),r(i?`"${i}" was successfully submitted`:"Your url was successfully submitted")},onError:([{message:p}])=>{r(null),o(`Failed to submit: ${p}`)}});return s("form",{class:"w-full",onSubmit:p=>{p.preventDefault(),a({url:t.trim()})}},n&&s(R,{message:n,style:"mb-2"}),_&&s(R,{message:_,type:"error",style:"mb-2"}),s(J,{label:"URL to something interesting",placeholder:"https://urls.fyi",value:t,onChange:e}),s(j,{title:"Submit",style:"w-full mt-2",loading:f,disabled:f}))}function Ht(){let[t,e]=b(!1),n="w-full rounded-t-lg pb-8 -mb-6 p-2";t&&(n+=" bg-gray-50 dark:bg-gray-900");let r=[{title:"Test title here",description:"Your description here.",url:"https://tilman.dev",image:"https://opengraph.githubassets.com/fc650ffe80c1f30447363840b1e7531d7ef69c492576ba8c0dbf9c9ac2c31ae8/dyedgreen/deno-sqlite"},{title:"Test title here",didVote:!0,description:"Your description here.",url:"https://tilman.dev"},{title:"The Accidental Rush for Anthrax Island",description:"Gruinard Island, in the north-west of Scotland, was where Britain tested its biological weapons. That story&#39;s been told many times: but I found something in ...",url:"https://tilman.dev",image:"https://i.ytimg.com/vi/suAC_PDP3Sk/maxresdefault.jpg"},{title:"Models of Generics and Metaprogramming: Go, Rust, Swift, D and More",description:"Your description here.",url:"https://tilman.dev",image:"https://opengraph.githubassets.com/fc650ffe80c1f30447363840b1e7531d7ef69c492576ba8c0dbf9c9ac2c31ae8/dyedgreen/deno-sqlite"}];return s("div",{class:n},s("div",{class:"flex space-x-2 items-center"},s(j,{title:"Submit a url",onClick:()=>e(!t)}),s(F,{title:"/recent",href:"/recent"}),s(F,{title:"/mine",href:"/mine"})),s("div",{class:"mt-4",style:{display:t?void 0:"none"}},s(Q,null)))}function Bt({urlID:t,initDidVote:e,initCount:n}){let[r,_]=b(e!=null?e:!1),[o,a]=b(n!=null?n:0),f=`
        block w-10 h-10 flex-none m-2 sm:mx-0
        flex flex-col justify-center items-center
        border-2 border-blue-500 rounded
        ${r?"bg-blue-500 text-white":"text-blue-500"}
  `,d=({url:u})=>{var l,m;a((l=u==null?void 0:u.upvoteCount)!=null?l:o),_((m=u==null?void 0:u.upvotedByViewer)!=null?m:r)},p=A(T`
    mutation Upvote($id: ID!) {
      url: upvoteUrl(url: $id) {
        id
        upvotedByViewer
        upvoteCount
      }
    }
  `,{onCommit:d,onError:()=>{}}),i=A(T`
    mutation Upvote($id: ID!) {
      url: rescindUrlUpvote(url: $id) {
        id
        upvotedByViewer
        upvoteCount
      }
    }
  `,{onCommit:d,onError:()=>{}});return s("button",{class:f,onClick:u=>{u.preventDefault(),r?(a(o-1),_(!1),i.commit({id:t})):(a(o+1),_(!0),p.commit({id:t}))}},s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},s("path",{"fill-rule":"evenodd",d:"M5.293 9.707a1 1 0 010-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 01-1.414 1.414L11 7.414V15a1 1 0 11-2 0V7.414L6.707 9.707a1 1 0 01-1.414 0z","clip-rule":"evenodd"})),s("span",{class:"text-xs leading-none"},o))}$(s(bt,null,s(Ht,null)),document.getElementById("header"));for(let t of document.querySelectorAll("[data-hydrate-vote-button]")){let e=t.dataset.id,n=parseInt(t.dataset.count),r=t.dataset.upvoted==="true";$(s(Bt,{urlID:e,initDidVote:r,initCount:n}),t)}
//# sourceMappingURL=page.js.map
