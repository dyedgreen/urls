var u,T,K,Y,D={},W=[],Ee=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function C(e,t){for(var n in t)e[n]=t[n];return e}function Z(e){var t=e.parentNode;t&&t.removeChild(e)}function l(e,t,n){var r,_,o,s=arguments,f={};for(o in t)o=="key"?r=t[o]:o=="ref"?_=t[o]:f[o]=t[o];if(arguments.length>3)for(n=[n],o=3;o<arguments.length;o++)n.push(s[o]);if(n!=null&&(f.children=n),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)f[o]===void 0&&(f[o]=e.defaultProps[o]);return F(e,f,r,_,null)}function F(e,t,n,r,_){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:_==null?++u.__v:_};return u.vnode!=null&&u.vnode(o),o}function B(e){return e.children}function j(e,t){this.props=e,this.context=t}function A(e,t){if(t==null)return e.__?A(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?A(e):null}function ee(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return ee(e)}}function te(e){(!e.__d&&(e.__d=!0)&&T.push(e)&&!O.__r++||Y!==u.debounceRendering)&&((Y=u.debounceRendering)||K)(O)}function O(){for(var e;O.__r=T.length;)e=T.sort(function(t,n){return t.__v.__b-n.__v.__b}),T=[],e.some(function(t){var n,r,_,o,s,f;t.__d&&(s=(o=(n=t).__v).__e,(f=n.__P)&&(r=[],(_=C({},o)).__v=o.__v+1,z(f,o,_,n.__n,f.ownerSVGElement!==void 0,o.__h!=null?[s]:null,r,s==null?A(o):s,o.__h),ne(r,o),o.__e!=s&&ee(o)))})}function le(e,t,n,r,_,o,s,f,m,p){var i,d,c,a,y,h,g,k=r&&r.__k||W,b=k.length;for(n.__k=[],i=0;i<t.length;i++)if((a=n.__k[i]=(a=t[i])==null||typeof a=="boolean"?null:typeof a=="string"||typeof a=="number"||typeof a=="bigint"?F(null,a,null,null,a):Array.isArray(a)?F(B,{children:a},null,null,null):a.__b>0?F(a.type,a.props,a.key,null,a.__v):a)!=null){if(a.__=n,a.__b=n.__b+1,(c=k[i])===null||c&&a.key==c.key&&a.type===c.type)k[i]=void 0;else for(d=0;d<b;d++){if((c=k[d])&&a.key==c.key&&a.type===c.type){k[d]=void 0;break}c=null}z(e,a,c=c||D,_,o,s,f,m,p),y=a.__e,(d=a.ref)&&c.ref!=d&&(g||(g=[]),c.ref&&g.push(c.ref,null,a),g.push(d,a.__c||y,a)),y!=null?(h==null&&(h=y),typeof a.type=="function"&&a.__k!=null&&a.__k===c.__k?a.__d=m=oe(a,m,e):m=re(e,a,c,k,y,m),p||n.type!=="option"?typeof n.type=="function"&&(n.__d=m):e.value=""):m&&c.__e==m&&m.parentNode!=e&&(m=A(c))}for(n.__e=h,i=b;i--;)k[i]!=null&&(typeof n.type=="function"&&k[i].__e!=null&&k[i].__e==n.__d&&(n.__d=A(r,i+1)),_e(k[i],k[i]));if(g)for(i=0;i<g.length;i++)ie(g[i],g[++i],g[++i])}function oe(e,t,n){var r,_;for(r=0;r<e.__k.length;r++)(_=e.__k[r])&&(_.__=e,t=typeof _.type=="function"?oe(_,t,n):re(n,_,_,e.__k,_.__e,t));return t}function re(e,t,n,r,_,o){var s,f,m;if(t.__d!==void 0)s=t.__d,t.__d=void 0;else if(n==null||_!=o||_.parentNode==null)e:if(o==null||o.parentNode!==e)e.appendChild(_),s=null;else{for(f=o,m=0;(f=f.nextSibling)&&m<r.length;m+=2)if(f==_)break e;e.insertBefore(_,o),s=o}return s!==void 0?s:_.nextSibling}function Se(e,t,n,r,_){var o;for(o in n)o==="children"||o==="key"||o in t||$(e,o,null,n[o],r);for(o in t)_&&typeof t[o]!="function"||o==="children"||o==="key"||o==="value"||o==="checked"||n[o]===t[o]||$(e,o,t[o],n[o],r)}function ae(e,t,n){t[0]==="-"?e.setProperty(t,n):e[t]=n==null?"":typeof n!="number"||Ee.test(t)?n:n+"px"}function $(e,t,n,r,_){var o;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||ae(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||ae(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")o=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r||e.addEventListener(t,o?ce:se,o):e.removeEventListener(t,o?ce:se,o);else if(t!=="dangerouslySetInnerHTML"){if(_)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t in e)try{e[t]=n==null?"":n;break e}catch(s){}typeof n=="function"||(n!=null&&(n!==!1||t[0]==="a"&&t[1]==="r")?e.setAttribute(t,n):e.removeAttribute(t))}}function se(e){this.l[e.type+!1](u.event?u.event(e):e)}function ce(e){this.l[e.type+!0](u.event?u.event(e):e)}function z(e,t,n,r,_,o,s,f,m){var p,i,d,c,a,y,h,g,k,b,H,x=t.type;if(t.constructor!==void 0)return null;n.__h!=null&&(m=n.__h,f=t.__e=n.__e,t.__h=null,o=[f]),(p=u.__b)&&p(t);try{e:if(typeof x=="function"){if(g=t.props,k=(p=x.contextType)&&r[p.__c],b=p?k?k.props.value:p.__:r,n.__c?h=(i=t.__c=n.__c).__=i.__E:("prototype"in x&&x.prototype.render?t.__c=i=new x(g,b):(t.__c=i=new j(g,b),i.constructor=x,i.render=Te),k&&k.sub(i),i.props=g,i.state||(i.state={}),i.context=b,i.__n=r,d=i.__d=!0,i.__h=[]),i.__s==null&&(i.__s=i.state),x.getDerivedStateFromProps!=null&&(i.__s==i.state&&(i.__s=C({},i.__s)),C(i.__s,x.getDerivedStateFromProps(g,i.__s))),c=i.props,a=i.state,d)x.getDerivedStateFromProps==null&&i.componentWillMount!=null&&i.componentWillMount(),i.componentDidMount!=null&&i.__h.push(i.componentDidMount);else{if(x.getDerivedStateFromProps==null&&g!==c&&i.componentWillReceiveProps!=null&&i.componentWillReceiveProps(g,b),!i.__e&&i.shouldComponentUpdate!=null&&i.shouldComponentUpdate(g,i.__s,b)===!1||t.__v===n.__v){i.props=g,i.state=i.__s,t.__v!==n.__v&&(i.__d=!1),i.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(M){M&&(M.__=t)}),i.__h.length&&s.push(i);break e}i.componentWillUpdate!=null&&i.componentWillUpdate(g,i.__s,b),i.componentDidUpdate!=null&&i.__h.push(function(){i.componentDidUpdate(c,a,y)})}i.context=b,i.props=g,i.state=i.__s,(p=u.__r)&&p(t),i.__d=!1,i.__v=t,i.__P=e,p=i.render(i.props,i.state,i.context),i.state=i.__s,i.getChildContext!=null&&(r=C(C({},r),i.getChildContext())),d||i.getSnapshotBeforeUpdate==null||(y=i.getSnapshotBeforeUpdate(c,a)),H=p!=null&&p.type===B&&p.key==null?p.props.children:p,le(e,Array.isArray(H)?H:[H],t,n,r,_,o,s,f,m),i.base=t.__e,t.__h=null,i.__h.length&&s.push(i),h&&(i.__E=i.__=null),i.__e=!1}else o==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=Ie(n.__e,t,n,r,_,o,s,m);(p=u.diffed)&&p(t)}catch(M){t.__v=null,(m||o!=null)&&(t.__e=f,t.__h=!!m,o[o.indexOf(f)]=null),u.__e(M,t,n)}}function ne(e,t){u.__c&&u.__c(t,e),e.some(function(n){try{e=n.__h,n.__h=[],e.some(function(r){r.call(n)})}catch(r){u.__e(r,n.__v)}})}function Ie(e,t,n,r,_,o,s,f){var m,p,i,d,c=n.props,a=t.props,y=t.type,h=0;if(y==="svg"&&(_=!0),o!=null){for(;h<o.length;h++)if((m=o[h])&&(m===e||(y?m.localName==y:m.nodeType==3))){e=m,o[h]=null;break}}if(e==null){if(y===null)return document.createTextNode(a);e=_?document.createElementNS("http://www.w3.org/2000/svg",y):document.createElement(y,a.is&&a),o=null,f=!1}if(y===null)c===a||f&&e.data===a||(e.data=a);else{if(o=o&&W.slice.call(e.childNodes),p=(c=n.props||D).dangerouslySetInnerHTML,i=a.dangerouslySetInnerHTML,!f){if(o!=null)for(c={},d=0;d<e.attributes.length;d++)c[e.attributes[d].name]=e.attributes[d].value;(i||p)&&(i&&(p&&i.__html==p.__html||i.__html===e.innerHTML)||(e.innerHTML=i&&i.__html||""))}if(Se(e,a,c,_,f),i)t.__k=[];else if(h=t.props.children,le(e,Array.isArray(h)?h:[h],t,n,r,_&&y!=="foreignObject",o,s,e.firstChild,f),o!=null)for(h=o.length;h--;)o[h]!=null&&Z(o[h]);f||("value"in a&&(h=a.value)!==void 0&&(h!==e.value||y==="progress"&&!h)&&$(e,"value",h,c.value,!1),"checked"in a&&(h=a.checked)!==void 0&&h!==e.checked&&$(e,"checked",h,c.checked,!1))}return e}function ie(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){u.__e(r,n)}}function _e(e,t,n){var r,_,o;if(u.unmount&&u.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||ie(r,null,t)),n||typeof e.type=="function"||(n=(_=e.__e)!=null),e.__e=e.__d=void 0,(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){u.__e(s,t)}r.base=r.__P=null}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&_e(r[o],t,n);_!=null&&Z(_)}function Te(e,t,n){return this.constructor(e,n)}function Q(e,t,n){var r,_,o;u.__&&u.__(e,t),_=(r=typeof n=="function")?null:n&&n.__k||t.__k,o=[],z(t,e=(!r&&n||t).__k=l(B,null,[e]),_||D,D,t.ownerSVGElement!==void 0,!r&&n?[n]:_?null:t.firstChild?W.slice.call(t.childNodes):null,o,!r&&n?n:_?_.__e:t.firstChild,r),ne(o,e)}u={__e:function(e,t){for(var n,r,_;t=t.__;)if((n=t.__c)&&!n.__)try{if((r=n.constructor)&&r.getDerivedStateFromError!=null&&(n.setState(r.getDerivedStateFromError(e)),_=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(e),_=n.__d),_)return n.__E=n}catch(o){e=o}throw e},__v:0},j.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=C({},this.state),typeof e=="function"&&(e=e(C({},n),this.props)),e&&C(n,e),e!=null&&this.__v&&(t&&this.__h.push(t),te(this))},j.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),te(this))},j.prototype.render=B,T=[],K=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,O.__r=0;var U,w,ue,V=0,G=[],fe=u.__b,pe=u.__r,me=u.diffed,de=u.__c,he=u.unmount;function ge(e,t){u.__h&&u.__h(w,e,V||t),V=0;var n=w.__H||(w.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function v(e){return V=1,Ae(ve,e)}function Ae(e,t,n){var r=ge(U++,2);return r.t=e,r.__c||(r.__=[n?n(t):ve(void 0,t),function(_){var o=r.t(r.__[0],_);r.__[0]!==o&&(r.__=[o,r.__[1]],r.__c.setState({}))}],r.__c=w),r.__}function ye(e,t){var n=ge(U++,3);!u.__s&&Pe(n.__H,t)&&(n.__=e,n.__H=t,w.__H.__h.push(n))}function He(){G.forEach(function(e){if(e.__P)try{e.__H.__h.forEach(L),e.__H.__h.forEach(J),e.__H.__h=[]}catch(t){e.__H.__h=[],u.__e(t,e.__v)}}),G=[]}u.__b=function(e){w=null,fe&&fe(e)},u.__r=function(e){pe&&pe(e),U=0;var t=(w=e.__c).__H;t&&(t.__h.forEach(L),t.__h.forEach(J),t.__h=[])},u.diffed=function(e){me&&me(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(G.push(t)!==1&&ue===u.requestAnimationFrame||((ue=u.requestAnimationFrame)||function(n){var r,_=function(){clearTimeout(o),ke&&cancelAnimationFrame(r),setTimeout(n)},o=setTimeout(_,100);ke&&(r=requestAnimationFrame(_))})(He)),w=void 0},u.__c=function(e,t){t.some(function(n){try{n.__h.forEach(L),n.__h=n.__h.filter(function(r){return!r.__||J(r)})}catch(r){t.some(function(_){_.__h&&(_.__h=[])}),t=[],u.__e(r,n.__v)}}),de&&de(e,t)},u.unmount=function(e){he&&he(e);var t=e.__c;if(t&&t.__H)try{t.__H.__.forEach(L)}catch(n){u.__e(n,t.__v)}};var ke=typeof requestAnimationFrame=="function";function L(e){var t=w;typeof e.__c=="function"&&e.__c(),w=t}function J(e){var t=w;e.__c=e.__(),w=t}function Pe(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function ve(e,t){return typeof t=="function"?t(e):t}async function we(e,t){let n=window.__xsrf_token;return await(await fetch("/graphql",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","X-XSRF-Token":n},body:JSON.stringify({query:e,variables:t})})).json()}function S([e]){return e}function be(e,t){let[n,r]=v(0),[_,o]=v(null),[s,f]=v(!0),[m,p]=v(null);if(m!=null)throw m;let i=()=>{f(!0),r(n+1)};return ye(()=>{we(e,t).then(({data:d,errors:c})=>{f(!1),c!=null?p(c):o(d)}).catch(d=>p(d))},[e,t,n]),{data:_,loading:s,refetch:i}}function q(e,{onCommit:t,onError:n}){let[r,_]=v(!1),[o,s]=v(void 0);if(o!==void 0)throw o;return{commit:m=>{_(!0),we(e,m).then(({data:p,errors:i})=>{_(!1),i!=null?typeof n=="function"?n(i):s(error):t(p)}).catch(p=>s(p))},inFlight:r}}function P({size:e="small"}){return l("svg",{xmlns:"http://www.w3.org/2000/svg",class:e==="large"?"h-8 w-8":"h-4 w-4",viewBox:"0 0 24 24",stroke:"none",fill:"currentColor"},l("rect",{x:"10",y:"0",width:"4",height:"8",rx:"2",opacity:"0"},l("animate",{attributeName:"opacity",from:"1",to:"0",dur:"1s",begin:"0s",repeatCount:"indefinite"})),l("rect",{x:"-2",y:"-4",width:"4",height:"8",rx:"2",transform:"translate(17.5, 6.5) rotate(45)",opacity:"0"},l("animate",{attributeName:"opacity",from:"1",to:"0",dur:"1s",begin:"0.125s",repeatCount:"indefinite"})),l("rect",{x:"16",y:"10",width:"8",height:"4",rx:"2",opacity:"0"},l("animate",{attributeName:"opacity",from:"1",to:"0",dur:"1s",begin:"0.25s",repeatCount:"indefinite"})),l("rect",{x:"-2",y:"-4",width:"4",height:"8",rx:"2",transform:"translate(17.5, 17.5) rotate(-45)",opacity:"0"},l("animate",{attributeName:"opacity",from:"1",to:"0",dur:"1s",begin:"0.375s",repeatCount:"indefinite"})),l("rect",{x:"10",y:"16",width:"4",height:"8",rx:"2",opacity:"0"},l("animate",{attributeName:"opacity",from:"1",to:"0",dur:"1s",begin:"0.5s",repeatCount:"indefinite"})),l("rect",{x:"-2",y:"-4",width:"4",height:"8",rx:"2",transform:"translate(6.5, 17.5) rotate(45)",opacity:"0"},l("animate",{attributeName:"opacity",from:"1",to:"0",dur:"1s",begin:"0.625s",repeatCount:"indefinite"})),l("rect",{x:"0",y:"10",width:"8",height:"4",rx:"2",opacity:"0"},l("animate",{attributeName:"opacity",from:"1",to:"0",dur:"1s",begin:"0.75s",repeatCount:"indefinite"})),l("rect",{x:"-2",y:"-4",width:"4",height:"8",rx:"2",transform:"translate(6.5, 6.5) rotate(-45)",opacity:"0"},l("animate",{attributeName:"opacity",from:"1",to:"0",dur:"1s",begin:"0.875s",repeatCount:"indefinite"})))}function N({title:e,onClick:t,disabled:n=!1,loading:r=!1,type:_="default",style:o}){let s=`h-8 px-2 flex space-x-2 justify-center items-center rounded-md font-bold ${o!=null?o:""}`;switch(_){case"flat":s+=" bg-white text-black",n||(s+=" hover:bg-gray-100");break;case"default":default:s+=" bg-blue-500 text-white",n||(s+=" hover:bg-blue-400")}return n===!0&&(s+=" opacity-80 cursor-not-allowed"),l("button",{class:s,onClick:n===!0?void 0:t},l("div",null,e),r===!0&&l(P,null))}function Me(){window.location.href=window.location.href}function De(e){let t={};for(let n of Object.getOwnPropertyNames(e))t[n]=e[n];return JSON.stringify(t)}function Fe({error:e}){return l("div",{class:"w-full flex justify-center p-8"},l("div",{class:"w-full max-w-3xl bg-red-500 rounded-lg p-4"},l("h1",{class:"text-white text-xl font-semibold"},"Error"),l("p",{class:"text-red-100"},"Sorry, something went wrong."),l("pre",{class:"text-white bg-red-900 rounded-lg p-4 mt-2 whitespace-pre-wrap break-all"},De(e)),l(N,{title:"Reload Page",onClick:Me,type:"flat",style:"w-full mt-2"})))}var X=class extends j{constructor(){super();this.state={error:!1}}componentDidCatch(t){console.error(t),this.setState({error:t})}render({children:t},{error:n}){return n!==!1?l(Fe,{error:n}):t}},xe=X;var Be=l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"})),Oe=l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"}));function R({title:e,children:t,initiallyExpanded:n=!0}){let[r,_]=v(n);return l("div",{class:"w-full mt-2 rounded-md bg-gray-100 dark:bg-gray-700"},l("button",{class:"w-full p-2 flex justify-between items-center rounded-md hover:bg-gray-200 dark:hover:bg-gray-600",onClick:()=>_(!r)},l("h1",{class:"text-lg font-semibold"},e),r?Be:Oe),l("div",{class:"w-full px-2 pb-2",style:{display:r?void 0:"none"}},t))}function I({value:e,onChange:t,label:n,placeholder:r,style:_}){let[o]=v(`input-id-${Math.floor(Math.random()*1e4)}`);return l("div",{class:`w-full ${_!=null?_:""}`},l("label",{class:"text-gray-500 italic",for:o},n),l("input",{class:"w-full p-2 text-md rounded-md bg-gray-200 dark:bg-gray-600 text-black dark:text-white",id:o,type:"text",value:e,onInput:s=>typeof t=="function"&&t(s.target.value),placeholder:r}))}var $e=l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})),Ce=l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"}));function E({type:e="info",message:t,style:n}){let r=`flex align-start p-3 rounded-md block font-semibold ${n!=null?n:""}`,_;switch(e){case"error":r+=" bg-red-200 text-red-800 dark:bg-red-800 dark:text-red-200",_=Ce;break;case"warning":r+=" bg-yellow-200 text-yellow-800 dark:bg-yellow-800 dark:text-yellow-200",_=Ce;break;case"info":default:r+=" bg-blue-200 text-blue-800 dark:bg-blue-800 dark:text-blue-200",_=$e}return l("div",{class:r},l("div",{class:"mr-2"},_),l("p",{class:"leading-snug"},t))}function je({}){let[e,t]=v(""),[n,r]=v(""),[_,o]=v(null),[s,f]=v(null),{commit:m,inFlight:p}=q(S`
    mutation ChangeEmailMutation($email: String!) {
      updateUser(input: {email: $email}) {
        id
        email
      }
    }
  `,{onCommit:({updateUser:c})=>{t(""),r(""),o(null),f(`Email changed to ${c==null?void 0:c.email}`)},onError:([{message:c}])=>{o(`Failed to change email: ${c}`),f(null)}}),i=!p&&e.trim().length>0&&e===n,d=c=>{c.preventDefault(),i&&m({email:e.trim()})};return l("form",{onSubmit:d},_&&l(E,{message:_,type:"error",style:"mb-2"}),s&&l(E,{message:s,style:"mb-2"}),l(I,{label:"New email address",placeholder:"ada.lovelace@urls.fyi",value:e,onChange:t,style:"mb-2"}),l(I,{label:"Confirm email address",placeholder:"ada.lovelace@urls.fyi",value:n,onChange:r,style:"mb-2"}),l(N,{title:"Update",onClick:d,disabled:!i,loading:p}))}function Ne({currentName:e}){let[t,n]=v(e),[r,_]=v(null),[o,s]=v(null),{commit:f,inFlight:m}=q(S`
    mutation ChangeName($name: String!) {
      updateUser(input: {name: $name}) {
        id
        user {
          id
          name
        }
      }
    }
  `,{onCommit:({updateUser:d})=>{var c,a;s(`Name changed to ${(c=d==null?void 0:d.user)==null?void 0:c.name}`),n((a=d==null?void 0:d.user)==null?void 0:a.name),_(null)},onError:([{message:d}])=>{_(`Failed to change email: ${d}`),s(null)}}),p=!m&&t.trim().length>0,i=d=>{d.preventDefault(),p&&f({name:t.trim()})};return l("form",{onSubmit:i},r&&l(E,{message:r,type:"error",style:"mb-2"}),o&&l(E,{message:o,style:"mb-2"}),l(I,{label:"Public profile name",placeholder:"Ada Lovelace",value:t,onChange:n,style:"mb-2"}),l(N,{title:"Update",onClick:i,disabled:!p,loading:m}))}function Le(){var n,r,_,o;let{data:e,loading:t}=be(S`
    query AccountQuery {
      viewer {
        id
        user {
          id
          name
        }
      }
    }
  `);return l("div",{class:"w-full flex justify-center p-8"},t?l(P,{size:"large"}):l("div",{class:"w-full max-w-screen-md bg-white dark:bg-gray-800 shadow rounded-lg p-4"},l("h1",{class:"text-2xl font-semibold"},"Account Settings"),l("h2",{class:"text-xl text-gray-500 mb-4"},"Welcome back ",(r=(n=e==null?void 0:e.viewer)==null?void 0:n.user)==null?void 0:r.name),l(R,{title:"Invite a friend"},"TODO"),l(R,{title:"Change name",initiallyExpanded:!1},l(Ne,{currentName:(o=(_=e==null?void 0:e.viewer)==null?void 0:_.user)==null?void 0:o.name})),l(R,{title:"Change email",initiallyExpanded:!1},l(je,null))))}Q(l(xe,null,l(Le,null)),document.getElementById("account"));
//# sourceMappingURL=account.js.map
